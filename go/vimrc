" @Shileizcc vim Configure
" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&&        åœ¨ä½¿ç”¨çš„æ—¶å€™æœ‰4ç§æ¨¡å¼
" &&&&&&
" &&&&&&        Normal  ï¼ˆæ­£å¸¸æ¨¡å¼ï¼‰
" &&&&&&        Insert  ï¼ˆæ’å…¥æ¨¡å¼ï¼‰
" &&&&&&        Visual  ï¼ˆå¯è§†æ¨¡å¼ï¼‰
" &&&&&&        :       ï¼ˆå‘½ä»¤æ¨¡å¼ï¼‰

filetype off                    " æ£€æµ‹æ–‡ä»¶å½“å‰ç±»å‹

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& åŠŸèƒ½é€‰é¡¹å‚æ•°é…ç½®
" &&&&&&

set tags=tags                   " tags æ— æ³•æ‰¾åˆ°
set autochdir
set number                      " æ˜¾ç¤ºè¡Œå·
set shortmess=atI               " å¯åŠ¨æ—¶éšå»æ´åŠ©æç¤º
set nobackup                    " ä¸éœ€è¦å¤‡ä»½
set nocompatible                " ä¸ä¸ vi è¿›è¡Œå…¼å®¹
set confirm                     " æ²¡æœ‰ä¿å­˜æˆ–æ–‡ä»¶åªè¯»æ—¶å¼¹å‡ºç¡®è®¤
set mouse=a                     " é¼ æ ‡å¯ç”¨, a ä¸º vim æ¨¡å¼æ­¤æ—¶æ”¯æŒé¼ æ ‡æ»šè½®, v ä¸ºé¼ æ ‡é€‰ä¸­æ¨¡å¼ä¸æ”¯æŒé¼ æ ‡æ»šè½®
set tabstop=4                   " tab ç¼©è¿›,ç©ºæ ¼é•¿åº¦ä¸º4
set shiftwidth=4                " è®¾ç½®ç¨‹åºè‡ªåŠ¨ç¼©è¿›æ—¶æ‰€å çš„ç©ºæ ¼é•¿åº¦ï¼Œæœ€å¥½è®¾ç½®ä¸ºä¸tabstopç›¸åŒ
set softtabstop=4               " åœ¨å¼€å¯expantabåï¼Œéœ€è¦è®¾ç½®ä½¿ç”¨é€€æ ¼é”®ï¼ˆbackspaceï¼‰æ—¶åˆ é™¤çš„ç©ºæ ¼æ•°
set expandtab                   " å°†è¾“å…¥çš„tabå±•å¼€æˆç©ºæ ¼ï¼Œå¦‚æœè¦ä½¿ç”¨tabï¼Œè¾“å…¥ctrlï¼‹v
                                " set smarttab
set autoread                    " æ–‡ä»¶è‡ªåŠ¨æ£€æµ‹å¤–éƒ¨æ›´æ”¹
set cindent                     " c æ–‡ä»¶è‡ªåŠ¨ç¼©è¿›
set autoindent                  " è‡ªåŠ¨å¯¹é½
set smartindent                 " æ™ºèƒ½ç¼©è¿›
set hlsearch                    " é«˜äº®æŸ¥æ‰¾åŒ¹é…
set showmatch                   " æ˜¾ç¤ºåŒ¹é…
set ruler                       " æ˜¾ç¤ºæ ‡å°ºï¼Œå°±æ˜¯åœ¨å³ä¸‹è§’æ˜¾ç¤ºå…‰æ ‡ä½ç½®
set novisualbell                " ä¸è¦é—ªçƒ
set laststatus=2                " å¯åŠ¨æ˜¾ç¤ºçŠ¶æ€è¡Œ
set showcmd                     " æ˜¾ç¤ºè¾“å…¥çš„å‘½ä»¤
set fillchars=vert:/            " è¢«åˆ†å‰²çª—å£ä¹‹é—´æ˜¾ç¤ºç©ºç™½
set fillchars=stl:/
set fillchars=stlnc:/
set undofile                    " ä¿ç•™æ’¤é”€å†å²
set history=1000                " è®°å½•çš„æ“ä½œå†å²æ•°é‡
set noerrorbells                " å½“é”™è¯¯å‘ç”Ÿçš„æ—¶å€™å°†ä¸ä¼šå‘å‡º bi çš„ä¸€å£°
                                " å¦‚æœæƒ³è¦åœ¨å‡ºé”™çš„æ—¶å€™æœ‰ä¸€äº›æç¤ºï¼Œå¯ä»¥ä½¿ç”¨ visualbell
set backspace=indent,eol,start  " é€€æ ¼ç¼©è¿›é…ç½®ä¸ vi å…¼å®¹
                                " indent: å¦‚æœç”¨äº†:set indent,:set ai ç­‰è‡ªåŠ¨ç¼©è¿›ï¼Œæƒ³ç”¨é€€æ ¼é”®å°†å­—æ®µç¼©è¿›çš„åˆ æ‰ï¼Œå¿…é¡»è®¾ç½®è¿™ä¸ªé€‰é¡¹ã€‚å¦åˆ™ä¸å“åº”ã€‚
                                " eol:å¦‚æœæ’å…¥æ¨¡å¼ä¸‹åœ¨è¡Œå¼€å¤´ï¼Œæƒ³é€šè¿‡é€€æ ¼é”®åˆå¹¶ä¸¤è¡Œï¼Œéœ€è¦è®¾ç½®eolã€‚
                                " start:è¦æƒ³åˆ é™¤æ­¤æ¬¡æ’å…¥å‰çš„è¾“å…¥ï¼Œéœ€è®¾ç½®è¿™ä¸ªã€‚
set showmode                    " åº•éƒ¨æ˜¾ç¤ºå½“å‰çš„ç¼–è¾‘æ¨¡å¼
set noswapfile                  " ä¸ä½¿ç”¨ swap æ–‡ä»¶
set autowrite                   " Automatically save before :next, :make etc.
set autoread                    " Automatically reread changed files without asking me anything
set fileformats=unix,dos,mac    " é€‰æ‹©Unix è€Œä¸æ˜¯Windowsè€Œä¸æ˜¯OS 9æ ¼å¼
set incsearch                   " åœ¨è¾“å…¥æ—¶æ˜¾ç¤ºåŒ¹é…
set ignorecase                  " æœç´¢ä¸åŒºåˆ†å¤§å°å†™
set smartcase                   " æœç´¢æ¨¡å¼åŒ…å« ... å°±ä¸æ˜¯å¤§å°å†™åŒºåˆ†æ¨¡å¼äº†

set linespace=0                 " è¡Œé—´è·
set updatetime=100              " æ›´æ–°å swap å†™å…¥ç£ç›˜æ—¶é—´
set cursorline                  " ğŸ“¢æ‰€åœ¨è¡Œé«˜äº®
set splitbelow                  " å°†å‚ç›´çª—å£åˆ†å‰²åˆ°å½“å‰çª—å£
set splitright                  " å°†ä¸‹é¢çš„æ°´å¹³çª—å£åˆ†å‰²ä¸ºå½“å‰çª—å£
set background=dark             " é…è‰²æ–¹æ¡ˆ
set guioptions-=m               " ç¦æ­¢æ˜¾ç¤ºèœå•å’Œå·¥å…·æ¡
set guioptions-=T
set nowrap                      " ç¦æ­¢æŠ˜è¡Œ
set foldmethod=syntax           " åŸºäºç¼©è¿›æˆ–è¯­æ³•è¿›è¡Œä»£ç æŠ˜å 
                                " set foldmethod=indent
set nofoldenable                " å¯åŠ¨ vim æ—¶å…³é—­æŠ˜å ä»£ç 
set encoding=utf-8              " ç¼–ç è®¾ç½®
set clipboard=unnamed           " å…±äº«å‰ªåˆ‡æ¿
set completeopt=menu,menuone
set t_Co=256                    " terminal Color é¢œè‰²
set switchbuf=usetab,usetab     " æ€»æ˜¯åœ¨æ–°çš„é€‰é¡¹å¡ä¸­æ‰“å¼€æ–°çš„ç¼“å†²åŒº
set formatoptions+=tcroqw
set listchars=tab:Â»â– ,trail:â–     " å¦‚æœè¡Œå°¾æœ‰å¤šä½™çš„ç©ºæ ¼ï¼ˆåŒ…æ‹¬ Tab é”®ï¼‰ï¼Œè¯¥é…ç½®å°†è®©è¿™äº›ç©ºæ ¼æ˜¾ç¤ºæˆå¯è§çš„å°æ–¹å—ã€‚
set list
set wildignore+=*/.git/*,*/.hg/*,*/.svn/*,*/cscope*,*/*.csv/,*/*.log,*tags*,*/bin/*
                                " æœç´¢æ—¶å¿½ç•¥çš„æ–‡ä»¶ä¸ç›®å½•
set fileencodings=utf-bom,utf-8,gbk,gb2312,gb18030,cp936,latin1
                                " æ”¯æŒçš„å­—ç¬¦é›†
if has('conceal')
  set conceallevel=2 concealcursor=niv
endif
                                " å½“æ–‡æœ¬è¢«æ ‡è®°ä¸ºâ€œéšè—å­—ç¬¦â€çš„æ—¶å€™ï¼Œconceallevel å†³å®šè¿™äº›æ–‡æœ¬å¦‚ä½•æ˜¾ç¤ºï¼Œå®ƒæœ‰å››ä¸ªå€¼ï¼š
                                " è®¾ä¸º 0ï¼Œä¸éšè—ï¼Œè¯¥å’‹æ ·è¿˜æ˜¯å’‹æ ·ï¼ˆè¿™æ˜¯é»˜è®¤å€¼ï¼Œæ‰€ä»¥å ä½ç¬¦ä¾ç„¶çœ‹å¾—è§ï¼‰
                                " è®¾ä¸º 1ï¼Œæ¯ä¸€å—éšè—å­—ç¬¦ç”¨ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦æ¥æ›¿æ¢ï¼Œè¿™ä¸ªå­—ç¬¦æ˜¯ç”±å½“å‰ä½¿ç”¨çš„è¯­æ³•é…ç½®è®¾ç½®çš„ï¼Œå¦‚æœè¯­æ³•é«˜äº®æ²¡æœ‰ï¼Œé‚£å°±ä½¿ç”¨ listchars é€‰é¡¹é‡Œè®¾ç½®çš„å­—ç¬¦ï¼Œå¦‚æœè¿™ä¹Ÿæ²¡æœ‰ï¼Œé»˜è®¤çš„æ›¿æ¢å­—ç¬¦æ˜¯ä¸€ä¸ªç©ºæ ¼
                                " è®¾ä¸º 2ï¼Œè®©éšè—å­—ç¬¦å®Œå…¨éšè—ï¼ˆæ„æ€æ˜¯å³ä¾¿é»˜è®¤çš„ç©ºæ ¼ä¹Ÿä¸ç”¨ï¼‰ï¼Œä½†å¦‚æœè¯­æ³•é…ç½®é‡Œæœ‰è®¾ç½®æ›¿æ¢å­—ç¬¦çš„è¯ï¼Œå°±ç”¨è®¾ç½®çš„
                                " è®¾ä¸º 3ï¼Œå®Œå…¨ä¸æ˜¾ç¤ºéšè—å­—ç¬¦ï¼Œä¸ç®¡æœ‰æ²¡æœ‰ä»»ä½•è®¾ç½®ã€‚


" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& set æ’ä»¶é…ç½®
" &&&&&&

set rtp+=~/.vim/bundle/Vundle.vim
"vundleç®¡ç†çš„æ’ä»¶åˆ—è¡¨å¿…é¡»ä½äº vundle#begin() å’Œ vundle#end() ä¹‹é—´
call vundle#begin()

" å…¨å±€æœç´¢ Command + F
" é»˜è®¤æœç´¢å½“å‰å…‰æ ‡ä¸‹å•è¯ï¼Œä¹Ÿå¯ä»¥è‡ªå·±è¾“å…¥
" Ctrl + jã€k å¯ä»¥åœ¨ä¸Šä¸‹æœç´¢åŒ¹é…å¤„åˆ‡æ¢
" :CtrlSFOpen å¯ä»¥æ‰“å¼€ä¹‹å‰çš„æœç´¢ç»“æœçª—å£ï¼Œè€Œä¸æ˜¯é‡æ–°æœç´¢
Plugin 'dyng/ctrlsf.vim'

" è‡ªåŠ¨è¡¥å…¨
" è¾“å…¥æ—¶è‡ªåŠ¨æç¤ºTABé”®å¯ä»¥åˆ‡æ¢
" ife è¿™ç±»ä»£ç ç‰‡æ®µï¼Œé€šè¿‡Ctrl + j æ¥ä»£æ›¿TAB(è§£å†³ä¸YouCompleteMeå†²çªé—®é¢˜)
Plugin 'Valloric/YouCompleteMe'

" æ’ä»¶åŠŸèƒ½
Plugin 'VundleVim/Vundle.vim'

" vim é¢œè‰²
Plugin 'altercation/vim-colors-solarized'
" Go æ‰©å±•
Plugin 'fatih/vim-go'

" æŸ¥çœ‹å˜é‡å‡½æ•°ç»“æ„ Command + y
Plugin 'majutsushi/tagbar'
Plugin 'Lokaltog/vim-powerline'
Plugin 'octol/vim-cpp-enhanced-highlight'
Plugin 'Raimondi/delimitMate'
Plugin 'jnurmine/Zenburn'
Plugin 'nvie/vim-flake8'

" ç›®å½•æ ‘
" å½“å‰é…ç½®æ²¡æœ‰è®¾ç½®æ‰“å¼€è‡ªåŠ¨å¼€å¯NERDTreeï¼Œå¯ç”¨å¯ä»¥é€šè¿‡æ‰§è¡Œ :NERDTree ï¼ˆæ‰§è¡Œå‘½ä»¤æ”¯æŒTabé”®è¡¥å…¨ï¼‰ æˆ– å¿«æ·é”® Command + e
" ,e åœ¨æ–‡ä»¶æ ‘ä¸­æŸ¥æ‰¾å½“å‰æ–‡ä»¶ï¼ˆå®šä½çš„æ•ˆæœï¼‰
" é€šè¿‡? æŸ¥çœ‹å’Œå–æ¶ˆæŸ¥çœ‹å¸®åŠ©
Plugin 'scrooloose/nerdtree'

" ç›®å½•æ ‘ git æ’ä»¶
Plugin 'Xuyuanp/nerdtree-git-plugin'
Plugin 'jistr/vim-nerdtree-tabs'

" å¿«é€ŸæŸ¥æ‰¾é¡¹ç›®æ–‡ä»¶ Command + P
" æœç´¢åCtrl + k é€‰æ‹©ä¸Šä¸€ä¸ªæ–‡ä»¶ï¼Œ Ctrl + j é€‰æ‹©ä¸‹ä¸€ä¸ªæ–‡ä»¶ï¼Œ å›è½¦æ‰“å¼€
Plugin 'kien/ctrlp.vim'

" Git
Plugin 'tpope/vim-fugitive'
Plugin 'airblade/vim-gitgutter'

" UI
Plugin 'vim-airline/vim-airline'
Plugin 'vim-airline/vim-airline-themes'
Plugin 'zaki/zazen'
Plugin 'noahfrederick/vim-hemisu'

" Themes
Plugin 'tomasr/molokai'

" æœ‰é“ç¿»è¯‘
" åœ¨æ™®é€šæ¨¡å¼ä¸‹ï¼ŒæŒ‰ ,yï¼Œ ä¼šç¿»è¯‘å½“å‰å…‰æ ‡ä¸‹çš„å•è¯ï¼›
" åœ¨ visual æ¨¡å¼ä¸‹é€‰ä¸­å•è¯æˆ–è¯­å¥ï¼ŒæŒ‰ ,yï¼Œä¼šç¿»è¯‘é€‰æ‹©çš„å•è¯æˆ–è¯­å¥ï¼›
" :Ydc ç¿»è¯‘å½“å‰å…‰æ ‡ä¸‹å•è¯
" :Ydv ç¿»è¯‘åœ¨ visual æ¨¡å¼ä¸‹é€‰ä¸­å•è¯æˆ–è¯­å¥
" :Yde æ‰‹åŠ¨è¾“å…¥å•è¯
Plugin 'ianva/vim-youdao-translater'

Plugin 'AndrewRadev/splitjoin.vim'

" å¼•æ“
Plugin 'SirVer/ultisnips'

" ä»£ç å—é›†åˆ
Plugin 'honza/vim-snippets'

Plugin 'ervandew/supertab'
Plugin 'Lokaltog/vim-easymotion'
Plugin 'rking/ag.vim'

" å¤šè¡Œç¼–è¾‘
" å®ç°Sublime Textçš„å¿«é€Ÿé€‰æ‹©ç¼–è¾‘ï¼Œç”¨æ³•ï¼š
" é€‰ä¸­å•è¯ï¼Œå¯ä»¥é€šè¿‡ v æˆ–è€… *ã€#æ¥å®ç°ï¼Œå†Ctrl + n é€‰æ‹©ä¸‹ä¸€ä¸ªç›¸åŒçš„ã€‚
" å›è½¦é€‰ä¸­ç›¸åŒå•è¯ï¼Œç±»ä¼¼Sublime Command+D
Plugin 'terryma/vim-multiple-cursors'
Plugin 'chrisbra/csv.vim'
Plugin 'gregsexton/gitv'
Plugin 'vim-scripts/matchit.zip'
Plugin 'tomtom/tcomment_vim'
Plugin 'scrooloose/syntastic'

" å¿«é€Ÿå¤„ç†ç¯ç»•æ ‡ç­¾
" æµ‹è¯•å†…å®¹ï¼š'Hello World, Hello HTTPS!'
" cs'" å¿«é€ŸæŠŠå½“å‰ ' ç¯ç»•çš„å­—ç¬¦æ”¹ä¸ºç”± " ç¯ç»•
" cs'<p> ä¼šä¿®æ”¹ä¸º <p>Hello World, Hello HTTPS!</p>
Plugin 'tpope/vim-surround'

Plugin 'klen/python-mode'
Plugin 'davidhalter/jedi-vim'
Plugin 'xolox/vim-misc'
Plugin 'xolox/vim-lua-ftplugin'
Plugin 'raymond-w-ko/vim-lua-indent'
Plugin 'godoctor/godoctor.vim'
" æ’ä»¶åˆ—è¡¨ç»“æŸ
call vundle#end()
filetype plugin indent on

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& let å˜é‡é…ç½®
" &&&&&&

" vim-go
let g:go_fmt_command = "goimports" " æ ¼å¼åŒ–å°†é»˜è®¤çš„ gofmt æ›¿æ¢
let g:go_autodetect_gopath = 1
let g:go_list_type = "quickfix"
let g:go_version_warning = 1
let g:go_highlight_types = 1
let g:go_highlight_fields = 1
let g:go_highlight_functions = 1
let g:go_highlight_function_calls = 1
let g:go_highlight_operators = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_methods = 1
let g:go_highlight_generate_tags = 1
let g:godef_split=2
let g:tagbar_ctags_bin='/usr/local/Cellar/ctags/5.8_1/bin/ctags'

" å»æ‰ vim-go åˆå§‹åŒ–æç¤º
let g:go_gopls_enabled = 1

" è®¾ç½®çŠ¶æ€æ ä¸»é¢˜é£æ ¼
let g:Powerline_colorscheme='solarized256'

" è‡ªåŠ¨è¡¥å…¨é…ç½®é¡¹
let g:ycm_global_ycm_extra_conf = '~/.vim/bundle/YouCompleteMe/.ycm_extra_conf.py'
let g:ycm_server_python_interpreter='/usr/local/bin/python3'
let g:ycm_add_preview_to_completeopt = 0
let g:ycm_show_diagnostics_ui = 0
let g:ycm_server_log_level = 'info'
let g:ycm_min_num_identifier_candidate_chars = 2
let g:ycm_collect_identifiers_from_comments_and_strings = 1
let g:ycm_complete_in_strings=1
let g:ycm_key_invoke_completion = '<c-z>'

let g:ycm_autoclose_preview_window_after_completion=1

let g:ycm_semantic_triggers =  {
            \ 'c,cpp,python,java,go,erlang,perl': ['re!\w{2}'],
            \ 'cs,lua,javascript': ['re!\w{2}'],
            \ }
let g:ycm_filetype_whitelist = {
            \ "c":1,
            \ "py":1,
            \ "go":1,
            \ "vue":1,
            \ "cpp":1,
            \ "objc":1,
            \ "sh":1,
            \ "zsh":1,
            \ "zimbu":1,
            \ }

" tagbar å®½åº¦
let g:tagbar_width=45
let g:tagbar_type_go = {
    \ 'ctagstype' : 'go',
    \ 'kinds'     : [
        \ 'p:package',
        \ 'i:imports:1',
        \ 'c:constants',
        \ 'v:variables',
        \ 't:types',
        \ 'n:interfaces',
        \ 'w:fields',
        \ 'e:embedded',
        \ 'm:methods',
        \ 'r:constructor',
        \ 'f:functions'
    \ ],
    \ 'sro' : '.',
    \ 'kind2scope' : {
        \ 't' : 'ctype',
        \ 'n' : 'ntype'
    \ },
    \ 'scope2kind' : {
        \ 'ctype' : 't',
        \ 'ntype' : 'n'
    \ },
    \ 'ctagsbin'  : 'gotags',
    \ 'ctagsargs' : '-sort -silent'
\ }

" ä¿®æ”¹æ ‘çš„æ˜¾ç¤ºå›¾æ ‡
let g:NERDTreeDirArrowExpandable = 'â–º'
let g:NERDTreeDirArrowCollapsible = 'â–¼'
let NERDTreeAutoCenter=1

" æ˜¾ç¤ºè¡Œå·
let NERDTreeShowLineNumbers=1

" æ˜¯å¦æ˜¾ç¤ºéšè—æ–‡ä»¶
let NERDTreeShowHidden=1

" è®¾ç½®å®½åº¦
let NERDTreeWinSize=25

" åœ¨ç»ˆç«¯å¯åŠ¨vimæ—¶ï¼Œå…±äº«NERDTree
let g:nerdtree_tabs_open_on_console_startup=1

" å¿½ç•¥ä¸€ä¸‹æ–‡ä»¶çš„æ˜¾ç¤º
let NERDTreeIgnore=['\.pyc','\~$','\.swp']
"let g:NERDTreeIndicatorMapCustom = {
"    \ "Modified"  : "âœ¹",
"    \ "Staged"    : "âœš",
"    \ "Untracked" : "âœ­",
"    \ "Renamed"   : "âœ",
"    \ "Unmerged"  : "â•",
"    \ "Deleted"   : "âœ–",
"    \ "Dirty"     : "âœ—",
"    \ "Clean"     : "âœ”ï¸",
"    \ 'Ignored'   : 'â˜’',
"    \ "Unknown"   : "?"
"    \ }

" ctrlp æœç´¢æ—¶å¿½ç•¥çš„å±æ€§
let g:ctrlp_cmd = 'CtrlPMixed'          " search anything (in files, buffers and MRU files at the same time.)
let g:ctrlp_by_filename = 1
let g:ctrlp_working_path_mode = 'ra'    " search for nearest ancestor like .git, .hg, and the directory of the current file
let g:ctrlp_match_window_bottom = 1     " show the match window at the top of the screen
let g:ctrlp_max_height = 10             " maxiumum height of match window
let g:ctrlp_switch_buffer = 'Et'        " jump to a file if it's open already
let g:ctrlp_use_caching = 1             " enable caching
let g:ctrlp_clear_cache_on_exit=1       " speed up by not removing clearing cache evertime
let g:ctrlp_mruf_max = 250              " number of recently opened files
let g:ctrlp_open_new_file = 't'
let g:ctrlp_open_multiple_files = 't'
let g:ctrlp_open_new_file = 'r'
let g:ctrlp_custom_ignore = {
                        \ 'dir':  '\v[\/](\.git|\.hg|\.svn|\.build|github.com|labix.org|bin|pkg)$',
                        \ 'file': '\v(\.exe|\.so|\.dll|\.a|\.xls|\.csv|\.json|\.log|\.out|gs|gw|gm|tags|gotags|\/U)$',
                        \ 'link': 'SOME_BAD_SYMBOLIC_LINKS',
                        \ }
let g:ctrlp_buftag_types = {
                        \ 'go'         : '--language-force=go --golang-types=ftv',
                        \ 'as'         : '--language-force=actionscript --actionscript-types=fpvc',
                        \ 'actionscript': '--language-force=actionscript --actionscript-types=fpvc',
                        \ 'coffee'     : '--language-force=coffee --coffee-types=cmfvf',
                        \ 'markdown'   : '--language-force=markdown --markdown-types=hik',
                        \ 'objc'       : '--language-force=objc --objc-types=mpci',
                        \ 'rc'         : '--language-force=rust --rust-types=fTm'
                        \ }
let g:ctrlp_prompt_mappings = {
                        \ 'PrtBS()':              ['<bs>', '<c-]>'],
                        \ 'PrtDelete()':          ['<del>'],
                        \ 'PrtDeleteWord()':      ['<c-w>'],
                        \ 'PrtClear()':           ['<c-u>'],
                        \ 'PrtSelectMove("j")':   ['<c-j>', '<down>'],
                        \ 'PrtSelectMove("k")':   ['<c-k>', '<up>'],
                        \ 'PrtSelectMove("t")':   ['<Home>', '<kHome>'],
                        \ 'PrtSelectMove("b")':   ['<End>', '<kEnd>'],
                        \ 'PrtSelectMove("u")':   ['<PageUp>', '<kPageUp>'],
                        \ 'PrtSelectMove("d")':   ['<PageDown>', '<kPageDown>'],
                        \ 'PrtHistory(-1)':       ['<c-n>'],
                        \ 'PrtHistory(1)':        ['<c-p>'],
                        \ 'AcceptSelection("e")': ['<cr>', '<2-LeftMouse>'],
                        \ 'AcceptSelection("h")': ['<c-x>', '<c-cr>', '<c-s>'],
                        \ 'AcceptSelection("t")': ['<c-t>'],
                        \ 'AcceptSelection("v")': ['<c-v>', '<RightMouse>'],
                        \ 'ToggleFocus()':        ['<s-tab>'],
                        \ 'ToggleRegex()':        ['<c-r>'],
                        \ 'ToggleByFname()':      ['<c-d>'],
                        \ 'ToggleType(1)':        ['<c-f>', '<c-up>'],
                        \ 'ToggleType(-1)':       ['<c-b>', '<c-down>'],
                        \ 'PrtExpandDir()':       ['<tab>'],
                        \ 'PrtInsert("c")':       ['<MiddleMouse>', '<insert>'],
                        \ 'PrtInsert()':          ['<c-\>'],
                        \ 'PrtCurStart()':        ['<c-a>'],
                        \ 'PrtCurEnd()':          ['<c-e>'],
                        \ 'PrtCurLeft()':         ['<c-h>', '<left>', '<c-^>'],
                        \ 'PrtCurRight()':        ['<c-l>', '<right>'],
                        \ 'PrtClearCache()':      ['<F5>'],
                        \ 'PrtDeleteEnt()':       ['<F7>'],
                        \ 'CreateNewFile()':      ['<c-y>'],
                        \ 'MarkToOpen()':         ['<c-z>'],
                        \ 'OpenMulti()':          ['<D-o>'],
                        \ 'PrtExit()':            ['<esc>', '<c-c>', '<c-g>'],
                        \ }

let g:ctrlsf_winsize = '30%'

" ä¸æœç´¢Goã€nodejsçš„ åº“ç›®å½•
let g:ctrlsf_ignore_dir = ["node_modules", "vendor"]

" å¤šè¡Œç¼–è¾‘
if has("gui_macvim")
    " set transparency=10 " Make the window slightly transparent
    " set fullscreen
    let g:ctrlp_map = '<D-p>'
    nmap <C-]> g<c-]>
    nmap <D-r> :MyCtrlPTag<cr>
    imap <D-r> <esc>:MyCtrlPTag<cr>
    nmap <D-R> :CtrlPBufTagAll<cr>
    imap <D-R> <esc>:CtrlPBufTagAll<cr>
    
    " å…³é—­ç¼“å†²åŒºï¼Œä¸é€€å‡ºçª—å£(å¯¹æœªä¿å­˜çš„æœ‰ç‚¹å°é—®é¢˜)
    nmap <D-w> :bp<bar>sp<bar>bn<bar>bd<CR>
    imap <D-w> <esc>:bp<bar>sp<bar>bn<bar>bd<CR>
    map <D-/> :TComment<cr>
    vmap <D-/> :TComment<cr>gv
    nmap <D-f> :CtrlSF <C-R>=expand("<cword>")<CR>
    imap <D-f> <ESC>:CtrlSF <C-R>=expand("<cword>")<CR>
    vnoremap <D-f>  y :CtrlSF"<C-R>=escape(@", '"')<CR>"
    vnoremap <D-S-f>  y :a
    map <D-e> :NERDTreeTabsToggle<CR>
    map <leader>e :NERDTreeFind<CR><CR>
    
    " Open sidebar with cmd+k
    " map <D-k> :NERDTreeTabsToggle<CR>
    " Window switch map {{{
    map <D-j> <C-W>j
    map <D-k> <C-W>k
    map <D-l> <C-W>l
    map <D-h> <C-W>h

    " cscope {{{"
    nmap <D-[> :cs find c <C-R>=expand("<cword>")<CR><CR><C-O>:copen<CR>
    nmap <D-\> :cs find s <C-R>=expand("<cword>")<CR><CR><C-O>:copen<CR>
    nmap <D-]> :cs find g <C-R>=expand("<cword>")<CR><CR>
    " }}}

    " Sublime Command+Enter
    inoremap <D-CR> <ESC>A<CR>
endif

" è‡ªå®šä¹‰å¿«é€ŸæŸ¥æ‰¾
func! MyCtrlPTag()
        let g:ctrlp_prompt_mappings = {
                                \ 'AcceptSelection("e")': ['<cr>', '<2-LeftMouse>'],
                                \ 'AcceptSelection("t")': ['<c-t>'],
                                \ }
        CtrlPBufTag
endfunc
com! MyCtrlPTag call MyCtrlPTag()

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& è‡ªåŠ¨æ‰§è¡Œ
" &&&&&& åœ¨ vim æ‰“å¼€æ–‡ä»¶åé€šè¿‡ autocmd è‡ªåŠ¨æ‰§è¡Œç›¸åº”å‘½ä»¤è¾¾åˆ°è‡ªå®šä¹‰éœ€æ±‚

" go å‡½æ•°è·³è½¬
"autocmd FileType go nnoremap <buffer> gd :call GodefUnderCursor()<cr>
"autocmd FileType go nnoremap <buffer> <C-]> :call GodefUnderCursor()<cr>
" vim-go import
autocmd BufWritePost *.go GoImports

" å¼€å¯ BufReadPost
autocmd BufReadPost *.go,*.cpp,*.c,*.h,*.hpp,*.cc,*.cxx call tagbar#autoopen()

" æµ…è‰²æ˜¾ç¤ºå½“å‰è¡Œ
autocmd InsertLeave * se nocul

" ç”¨æµ…è‰²é«˜äº®å½“å‰è¡Œ
autocmd InsertEnter * se cul

" å½“NERDTreeä¸ºå‰©ä¸‹çš„å”¯ä¸€çª—å£æ—¶è‡ªåŠ¨å…³é—­
autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTree") && b:NERDTree.isTabTree()) | q | endif

" Don't write backup file if vim is being called by "crontab -e"
autocmd BufWrite /private/tmp/crontab.* set nowritebackup nobackup
" Don't write backup file if vim is being called by "chpass"
autocmd BufWrite /private/etc/pw.* set nowritebackup nobackup

autocmd FileType go :set noexpandtab
autocmd FileType yaml setlocal ts=2 sts=2 sw=2 expandtab
autocmd FileType json :set cole=0

autocmd BufNewFile,BufRead *.define setf define

" è®°å½•ä¸Šä¸€æ¬¡ç¼–è¾‘ä½ç½®
if has("autocmd")
  autocmd BufReadPost * if line("'\"") > 1 && line("'\"") <= line("$") | exe "normal! g'\"" | endif
endif

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& map é…ç½®
" &&&&&& åœ¨ vim ä¸­é€šè¿‡æ‰§è¡Œé”®ç›˜å‘½ä»¤ä¸ vim è¿›è¡Œç»“åˆåŒä¹‰: å¿«æ·é”®
" &&&&&&
" &&&&&&                 å¯¹äºæ˜ å°„å¯èƒ½æœ‰ä»¥ä¸‹å‡ ç§å‰ç¼€:
" &&&&&& nore :è¡¨ç¤ºéé€’å½’ï¼ˆno recursionï¼‰
" &&&&&& n â€ƒâ€‚ :è¡¨ç¤ºæ­£å¸¸æ¨¡å¼ä¸‹ç”Ÿæ•ˆ
" &&&&&& v â€ƒâ€‚ :è¡¨ç¤ºå¯è§†æ¨¡å¼ä¸‹ç”Ÿæ•ˆ
" &&&&&& iâ€ƒâ€ƒ  :è¡¨ç¤ºæ’å…¥æ¨¡å¼ä¸‹ç”Ÿæ•ˆ
" &&&&&& câ€ƒâ€‚  :è¡¨ç¤ºå‘½ä»¤æ¨¡å¼ä¸‹ç”Ÿæ•ˆ
" &&&&&&
" &&&&&&                            map æ¨¡å¼å¦‚ä¸‹:
" &&&&&&  map     noremap     unmap     mapclear
" &&&&&& nmap    nnoremap    nunmap    nmapclear
" &&&&&& vmap    vnoremap    vunmap    vmapclear
" &&&&&& imap    inoremap    iunmap    imapclear
" &&&&&& cmap    cnoremap    cunmap    cmapclear

map <leader>g  :YcmCompleter GoToDefinitionElseDeclaration<CR>

" è®¾ç½®é”®ç›˜æ˜ å°„ï¼Œé€šè¿‡ç©ºæ ¼è®¾ç½®æŠ˜å 
nnoremap <space> @=((foldclosed(line('.')<0)?'zc':'zo'))<CR>

" å…³é—­NERDTreeå¿«æ·é”®
map <leader>t :NERDTreeToggle<CR>

" tagbar å³çª—å£å‡½æ•°åˆ—è¡¨
" å°†å¼€å¯tagbarçš„å¿«æ·é”®è®¾ç½®ä¸ºã€€<Leader>tb
nmap <Leader>tb :TagbarToggle<CR>
"nmap <F9> :TagbarToggle<CR>

" å»æ‰æš‚æ—¶é€€å‡º vim çª—å£å¿«æ·é”®
"noremap <c-z> <NOP>

" æ¢è¡Œçš„æ—¶å€™å¯ä»¥è‡ªåŠ¨è·³åˆ°ä¸‹ä¸€è¡Œ
imap {<CR> {<CR>}<ESC>O

" split navigations
nnoremap <C-J> <C-W><C-J>
nnoremap <C-K> <C-W><C-K>
nnoremap <C-L> <C-W><C-L>
nnoremap <C-H> <C-W><C-H>

" ä»¥ä¸‹é…ç½®é¿å…äº†åˆ é™¤æ—¶å¯¼å…¥å‰ªåˆ‡æ¿æ“ä½œ
nnoremap x "_x
nnoremap X "_X
nnoremap d "_d
nnoremap dd "_dd
nnoremap D "_D
vnoremap d "_d
vnoremap dd "_dd

nnoremap <leader>x ""x
nnoremap <leader>X ""X
nnoremap <leader>d ""d
nnoremap <leader>dd ""dd
nnoremap <leader>D ""D
vnoremap <leader>d ""d
vnoremap <leader>dd ""dd

" vim-go å¿«æ·é”®
nmap <Leader>gt :GoTest<CR>
nmap <Leader>gi :GoInstall<CR>
nmap <Leader>gr :GoRename<CR>
nmap <Leader>ge :GoReferrers<CR>
nmap <Leader>gl :Gpull<CR>
nmap <Leader>gp :Gpush<CR>
nmap <Leader>cc :Gstatus<CR>
nmap <Leader>gs :Gstatus<CR>

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& é¢œè‰²è¡¥å……
" &&&&&&

syntax keyword cppSTLtype initializer_list

" é¢œè‰²æ–¹æ¡ˆ
colorscheme Zenburn
syntax on " è¯­æ³•é«˜äº®

highlight Pmenu          guifg=#F6F3E8 guibg=#444444
highlight PmenuSel       guifg=#FFFFFF guibg=#11AADD
highlight PMenuSbar      guibg=#5A647E
highlight PMenuThumb     guibg=#AAAAAA
highlight Visual         guibg=#2566FA
highlight VertSplit      guibg=#1B1D1E
highlight Cursor         guibg=#FF0000

" Flagging Unnecessary Whitespace
" http://stackoverflow.com/questions/11087041/gvim-to-custom-highlight-group-in-vimrc-not-working
"hi BadWhitespace guifg=gray guibg=red ctermfg=gray ctermbg=red
"highlight BadWhitespace ctermfg=16 ctermbg=253 guifg=#000000 guibg=#F8F8F0

" æ ‡ç¤ºä¸å¿…è¦çš„ç©ºç™½å­—ç¬¦, å¦‚æœå­˜åœ¨ä¼šæ ‡è®°é¢œè‰²
"autocmd BufRead,BufNewFile *.go,*.py,*.pyw,*.c,*.h match BadWhitespace /\s\+$/
highlight BadWhitespace term=standout ctermbg=red guibg=red
match BadWhitespace /\s\+$\| \+\t/

" é€‰ä¸­æ‰€æœ‰é«˜äº®å¯ä»¥é€šè¿‡ S + 3
" å–æ¶ˆæ‰€æœ‰é«˜äº®å¯ä»¥è¾“å…¥ :noh
" æ·»åŠ è¡Œå·è¾“å…¥ set number, å–æ¶ˆè¡Œå·è¾“å…¥ set nonumber

" &&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&
" &&&&&&
" &&&&&& åŠŸèƒ½é”®è¡¥å……è¯´æ˜
" &&&&&&

" ä¸ŠåŠç¿»é¡µ Ctrl + d
" ä¸‹ç­ç¿»é¡µ Ctrl + u

" å¤šçª—å£
" :vsplit name "åœ¨å½“å‰ä½ç½®æ‰“å¼€nameæ–‡ä»¶ å°†åŸæ¥æ–‡ä»¶å‘å³ç§»åŠ¨, ç®€å†™ vs <name>
" :split name "åœ¨å½“å‰ä½ç½®æ‰“å¼€nameçª—å£ å°†åŸæ¥æ–‡ä»¶å‘ä¸‹ç§»åŠ¨, ç®€å†™ sp <name>
" :new <name> æ–°çª—å£

" Ctrl + hã€jã€kã€l  å¯ä»¥åœ¨æ‹†åˆ†çª—å£ã€NERDTreeã€Tagbaré—´åˆ‡æ¢ï¼Œä¸jã€kçš„ç»„åˆå¯ä»¥åœ¨CtrlPæ–‡ä»¶æœç´¢æ’ä»¶ä¸­é€‰æ‹©æ–‡ä»¶
" gd  è·³è½¬åˆ°golangçš„å®šä¹‰
" Ctrl + o    è¿”å›ï¼åé€€
" ciâ€ ä¿®æ”¹é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
" diâ€ åˆ é™¤é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
" yiâ€ å¤åˆ¶é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
" viâ€ é€‰ä¸­é…å¯¹æ ‡ç‚¹ç¬¦å·ä¸­çš„æ–‡æœ¬å†…å®¹ã€‚
" cs" | å¿«é€ŸæŠŠå½“å‰"ç¯ç»•çš„å­—ç¬¦æ”¹ä¸ºç”± ç¯ç»•
" cw  ä¿®æ”¹å…‰æ ‡å¤„å•è¯
" C   ä¿®æ”¹åˆ°è¡Œå°¾
" s   æ›¿æ¢å…‰æ ‡æ‰€å¤„å­—ç¬¦ï¼Œ4s æ›¿æ¢4ä¸ªå­—ç¬¦
" ~   å…‰æ ‡å¤„å†…å®¹è¿›è¡Œå¤§å°å†™è½¬æ¢ ï¼ˆGolangå¾ˆå®ç”¨ï¼‰
" ma  æ ‡è®°å‘½åä¸ºa
" `a | è·³è½¬åˆ°æ ‡è®°a |
" c`a | ä¿®æ”¹åˆ°æ ‡è®°a |
" J   åˆå¹¶å½“å‰è¡Œå’Œä¸‹ä¸€è¡Œ
" 4j  å‘ä¸‹è·³è½¬4è¡Œ
" 4k  å‘ä¸Šè·³è½¬4è¡Œ
" I   è¡Œé¦–æ’å…¥
" A   è¡Œå°¾æ’å…¥
" Ctrl + f    å‘å‰ç¿»ä¸€é¡µ
" Ctrl + b    å‘åç¿»ä¸€é¡µ
" 15G è·³è½¬åˆ°15è¡Œ
" G   è·³è½¬åˆ°æ–‡ä»¶åº•éƒ¨
" gg  è·³è½¬åˆ°æ–‡ä»¶å¤´éƒ¨
" fâ€  è¡Œå†…è·³è½¬åˆ°å­—ç¬¦"å¤„
" :split  å°†å±å¹•åˆ†ä¸ºä¸Šä¸‹ä¸¤ä¸ªçª—å£
" :vsplit å°†å±å¹•åˆ†ä¸ºå·¦å³ä¸¤ä¸ªçª—å£
" âŒ˜ + W   å…³é—­æ–‡ä»¶ï¼ˆä¸é€€å‡ºmacvim)
" âŒ˜ + /   æ³¨é‡Šä»£ç  //
" ,gr vim-go é€šè¿‡é‡æ„é‡å‘½å
" ,ge vim-go æŸ¥æ‰¾å‡½æ•°ã€å˜é‡è¢«å“ªäº›åœ°æ–¹å¼•ç”¨
" ,gt vim-go :GoTest
" ,gi vim-go :GoInstall
" ,ds vim-go è·³è½¬åˆ°Goå®šä¹‰ï¼Œæ°´å¹³æ‹†åˆ†
" ,dv vim-go è·³è½¬åˆ°Goå®šä¹‰ï¼Œå‚ç›´æ‹†åˆ†
" ,i  go-info æŸ¥çœ‹å…‰æ ‡ä¸‹ç±»å‹ä¿¡æ¯
" ,b  è‡ªåŠ¨æ ¹æ®æ–‡ä»¶ç±»å‹ç¼–è¯‘æˆ–æµ‹è¯•å½“å‰Goæ–‡ä»¶
" :Gitv   ç”¨Vimæ¥æŸ¥çœ‹Gitçš„è¯¦ç»†æäº¤ä¿¡æ¯
" Ctrl+t  ç¿»è¯‘å½“å‰å…‰æ ‡ä¸‹å•è¯ï¼Œåœ¨ visual æ¨¡å¼ä¸‹ç¿»è¯‘é€‰ä¸­å•è¯æˆ–è¯­å¥
" :GoDecls or :GoDeclsDir å‡½æ•°ã€ç±»å‹å®šä¹‰è·³è½¬
" :GoCallers or :GoCallees    æŸ¥æ‰¾å“ªäº›åœ°æ–¹è°ƒç”¨äº†å½“å‰å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è°ƒç”¨äº†å“ªäº›
" :GoReferrers    æŸ¥æ‰¾å½“å‰å˜é‡çš„å¼•ç”¨
" :GoKeyify   å¯ä»¥å°†æ— keyçš„structå®šä¹‰è½¬ä¸ºå¸¦keyçš„
